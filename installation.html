<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="shortcut icon" href="img/Q-logo.png" />
    <title>Installation</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  
         <body>
         <div class="round-button">
         <a href="index.html">
           <img src="img/Home_Icon.svg" alt="Home" />
         </a>
         </div>
         <br><br><br>
         <div class="wrapper">

         <h1>Installation</h1>
         
			<p>
			This installation guide is subdivided into the following sections:
			<ul>
			 <li><a href="#h2_installation_for_linux" >Installation for Linux</a></li>
			  <ul>
			   <li><a href="#h3_precompiled_binary" >Precompiled binary</a></li>
			   <li><a href="#h3_installation_from_source" >Installation from source</a></li>
			  </ul>
			 <li><a href="#h2_install_ucscs_converter_tools" >Install UCSC's converter tools</a></li>
			</ul>
			</p>         
      
         <hr/>

         <h2 id="h2_installation_for_linux">Installation for Linux</h2>
         
         <h3 id="h3_precompiled_binary" >Precompiled binary</h3>         
              
         <p>
         We provide a <a href="downloads/executables/Linux_x86_64_binary/Q-1.0.0/Q">precompiled binary for Linux x86_64</a>,
         which does not require any runtime libraries.
         If you just want to use Q, you do not have to install from source.
         </p>

         <p>         
         Open a terminal and create the directory <code>~/bin</code> in your home directory, if not yet existing.
         </p>
         
         <pre><code>mkdir ~/bin</code></pre>

         <p>         
         Move the downloaded precompiled binary resides to the directory just created.
			</p>

			<pre><code>mv ~/Downloads/Q ~/bin</code></pre>
			
         <p>
			Make the binary executable using:
			</p>
			      
			<pre><code>chmod u+x ~/bin/Q</code></pre> 
                  
         <p>         
         Open your hidden personal configuration file using a text editor of your choice
         (for example <code>gedit</code> or <code>kate</code>).
			</p>

         <pre><code>gedit ~/.profile</code></pre> 
         
         <p>
         Add  the following line to your profile:
			</p>
			
			<pre><code>export PATH=$PATH:$HOME/bin</code></pre>
			
         <p>
			For the first time you have to reload your profile using:
         </p>
			 
			<pre><code>source ~/.profile</code></pre>
			         
         <p>
         Try the following command (which will display help messages) to test the file.         
         </p>
			
			<pre><code>Q --help</code></pre>
   		
			
         <h3 id="h3_installation_from_source">Installation from source</h3> 

         <h4>Preliminaries</h4>

         <p>         
         Q is written in C++ and makes use of several external libraries.
         Q uses
         <a href="http://www.seqan.de/">SeqAn</a>
         for BAM file I/O,
         and the SeqAn library is provided together with the Q source code and does not need to be installed separated.
         The zlib, bz2, and gomp libraries are needed for operating with the (compressed) BAM files and for multiprocessor support.
         Here, the dev versions of the libraries should be installed
         (which are guaranteed to have the header files needed for compilation).
         In addition, the boost library is used by Q for certain statistical calculations.
         </p>

         <p>
         On Debian install all required packages using the following command line:
         </p>
         
         <pre><code>sudo apt-get install zlib1g-dev libbz2-dev libboost-dev libgomp1</code></pre>  

         
         <p>
         On other linux distrubtions, install the libraries using the command appropriate to your system.
         We have tested Q using the following compiler and library versions.
			<ul>
			<li>g++: 4:4.7.2-1</li>
			<li>libboost-dev: 1.49.0.1</li>
			<li>zlib1g-dev: 1:1.2.7.dfsg-13</li>
			<li>libbz2-dev: 1.0.6-4</li>
			<li>libgomp1: 4.7.2-5</li>
			</ul>
			</p>
			
			<h4>Installation</h4>
			
			<p>
			Clone the source code from the github repository:
			</p>
			
			<pre><code>git clone https://github.com/charite/Q.git</code></pre>
			
			<p>
			Change into the cloned directory
			and use the following command to check if your system has the required libraries and to create a Makefile:
			</p>
			
			<pre><code>./configure</code></pre>

			<p>
			Assuming no error messages are produce, Q can now be compiled. There are two ways of doing so.  
			You can  install the executable in a system wide directory (if you have write permissions, e.g., because you are root):
			</p>

			<pre><code>make; make install</code></pre>			

			<p>
			Alternatively, to install Q in another directory, use the following to create the Makefile:
			</p>
			
			<pre><code>./configure --prefix=/path/to/my/directory</code></pre>
			
			<p>
			Entering <code>make;make install</code> will now install Q into <code>/path/to/my/directory/bin/Q</code>.
			</p>

			<p>
			The above will compile a version of Q will all of the library code included as well as debugging symbols. To create
			a release target, you can use the following command:
			</p>
			
			<pre><code>make install-strip</code></pre>

			<p>
			In order to make the compile binary available on the command line
			you will have to adjust your $PATH variable
			(see section for the <a href="#h3_precompiled_binary" >precompiled binary</a>).
			</p>
			
			
			<h2 id="h2_install_ucscs_converter_tools">Install UCSC's converter tools</h2>

         <p>	
         Q generates BedGraph files for the fragment coverage profiles on the fly. This section describes the installation of
         several UCSC executables that will be needed (See the <a href="tutorial.html#visualization">tutorial</a> for details).
         Sometimes the BigWig format is more suitable and we will implement the generation of BigWig files in near future.
         By then two tools from the UCSC command line utilities are needed for the conversion from BedGraph to BigWig format.
         For downloading change to the bin directory within your home directory and enter the following command lines.
         </p>

         <pre><code>wget http://hgdownload.soe.ucsc.edu/admin/exe/linux.x86_64/fetchChromSizes</code></pre>
         
         <pre><code>wget http://hgdownload.soe.ucsc.edu/admin/exe/linux.x86_64/bedGraphToBigWig</code></pre>

         <p>	
         Now you have to make the utilities executable using the following command:
         </p>
         
         <pre><code>chmod u+x fetchChromSizes bedGraphToBigWig</code></pre>

         <p>		
         If you have added <em>/home/bin</em> to your $PATH variable,
         the utilities should now be available.
         </p>
         				
			<br>
			<br>
			<br>						
			<br>
			<br>
			<br>						
			<br>
			<br>
			<br>						


         </div>
    <script src="javascripts/scale.fix.js"></script>
  </body>
</html>